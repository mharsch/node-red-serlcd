<script type="text/javascript">
    RED.nodes.registerType('serlcd',{
        category: 'function',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            address: {value: "0x72", validate:function(v) {
                let i2c_addr = parseInt(v, 16);
                return (!isNaN(i2c_addr) && (0x07 <= i2c_addr && i2c_addr <= 0x78))
            } },
            size: {value: "16x2"}
        },
        inputs:1,
        outputs:0,
        icon: "font-awesome/fa-th",
        label: function() {
            return this.name||"SerLCD";
        }
    });
</script>

<script type="text/html" data-template-name="serlcd">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-address"><i class="fa fa-tag"></i> i2c Address</label>
        <input type="text" id="node-input-address">
    </div>
    <div class="form-row">
        <label for="node-input-size"><i class="fa fa-tag"></i> Screen Size</label>
            <select id="node-input-size">
                <option value="16x2">16x2</option>
                <option value="20x4">20x4</option>
            </select>
    </div>
</script>

<script type="text/html" data-help-name="serlcd">
    <p>Display text on a Sparkfun SerLCD</p>
    <p>This node adopts the interface from 'node-red-nodes-pilcd'
       from the official Node-RED node collection, described
       <a href="https://flows.nodered.org/node/node-red-node-pilcd"> here</a>.
    </p>
</script>
